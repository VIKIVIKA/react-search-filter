import React,{Component} from 'react';
import TreeView from '../components/TreeView';
import {connect} from 'react-redux';
import {getTreeData} from '../actions/getTree';

class Filter extends Component{
	constructor(props){
		super(props);
		this.state = {
			filteredData : this.props.treeData,
			inputValue: ''
		};
	}
	doSearch(e){
		var query = this.state.inputValue;
		this.props.doSearch(query);
	}
	inpVal(e){
		this.setState({inputValue: e.target.value})
	}
	render(){
		return(
			<div>
				<input onChange={(e)=>{this.inpVal(e)}} type="text" value={this.state.inputValue} ref="searchArg"/>
				<button onClick={(e)=>{this.doSearch(e)}}>Search</button>
				<button onClick={(e)=>this.props.getTreeData(e, this.refs.searchArg.value)}>abc</button>				
				{
					JSON.stringify(this.props)
				}
			</div>
		)
	}
}

function mapStateToProps(state){
	return {
		TreeResp: state.treeResp
	}
}

export default connect(mapStateToProps, {getTreeData})(Filter)
